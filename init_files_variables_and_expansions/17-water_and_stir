#!/bin/bash
convert_to_base10() { local input=$1 base_alphabet=$2 base_len=${#base_alphabet} result=0; for (( i=0; i<${#input}; i++ )); do char=${input:i:1}; pos=$(echo $base_alphabet | grep -b -o "$char" | cut -d: -f1); result=$(( result * base_len + pos )); done; echo $result; }; convert_to_base() { local number=$1 base_alphabet=$2 base_len=${#base_alphabet} result=""; if [ "$number" -eq 0 ]; then result=${base_alphabet:0:1}; else while [ $number -gt 0 ]; do remainder=$(( number % base_len )); result="${base_alphabet:remainder:1}$result"; number=$(( number / base_len )); done; fi; echo $result; }; WATER_BASE_ALPHABET="ewwatratewa" STIR_BASE_ALPHABET="ti.itirtrtr" BESTCHOL_BASE_ALPHABET="shtbeolhc"; WATER_DECIMAL=$(convert_to_base10 "$WATER" "$WATER_BASE_ALPHABET"); STIR_DECIMAL=$(convert_to_base10 "$STIR" "$STIR_BASE_ALPHABET"); RESULT_DECIMAL=$((WATER_DECIMAL + STIR_DECIMAL)); RESULT=$(convert_to_base "$RESULT_DECIMAL" "$BESTCHOL_BASE_ALPHABET"); echo "$RESULT"
